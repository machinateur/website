{% extends '_page_theme_post.html.twig' %}

{% block description %}A guide on how to teach HTMLPurifier parts of HTML5 and allow sanitization full documents based on an example from shopware.{% endblock %}

{# metadata #}
{% block post_title %}How to sanitize full HTML 5 documents with HTMLPurifier{% endblock %}
{% block post_author %}machinateur{% endblock %}
{% block post_date %}2024-03-01{% endblock %}
{% block post_tags %}php, html, shopware, sanitization{% endblock %}
{# content #}
{% block post_image %}{% endblock %}
{% block post_image_alt %}A screenshot of example code{% endblock %}
{% block post_content %}
    {%- set content       = source('markdown/blog/how-to-sanitize-full-html-5-documents-with-htmlpurifier.md', true) -%}
    {%- set content_title = '# ' ~ block('post_title') -%}

    {%- if content starts with content_title -%}
        {%- set content = content[content_title|length:] -%}
    {%- endif -%}

    {{ content|markdown_to_html|raw }}
{% endblock %}
{% block post_subject_id %}{% endblock %}
